<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>atopos</title>
        <link rel="stylesheet" href="./gluon.css">
    </head>
    <body>
        <nav>
            <h4><a href="/">atopos</a></h4>
            <span>[<a href="https://hachyderm.io/@III">Mastodon</a>] [<a href="https://github.com/0xIII">Github</a>]</span>
        </nav>
        <article class="content" id="content">
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor</p>
            <h4>Now</h4>
            <p>Some of the projects I am currently working on (<i>"Now"</i> is a rather relative term which does not always suit the temporal aspect perfectly ;) ):</p>
            <li>Yarn - a protocol for decentralised data</li>
            <li>MESA - simple stack machine</li>
            <h4>Contact</h4>
            <li>Mail - <s>hello@atopos.xyz</s></li>
            <li>Mastodon - @III@hachyderm.io</li>
            <li>PGP key - <a href="./assets/atopos.asc">here</a></li>
        </article>
        <div>
            <h4>Index</h4>
            <span>... so empty ( ˘︹˘ )</span>
            <ol>
                <li class="random"><a href="./mesa.html">MESA Reference</a> • 13/02/23</li>
                {{list}}
            </ol>
        </div>
        <footer>
            <span><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc">BY-NC-SA</a>
        </footer>
    </body>
</html>
<script>
    const colors = ["#e07a5f", "#81b29a", "#f2cc8f"];

    function getRandomInt(max) {
        return Math.floor(Math.random() * max);
    }

    function random() {
        var elements = document.getElementsByClassName("random");
        for(let i = 0; i < elements.length; i++) {
            console.log(elements[i]);
            let to;
            if (screen.width < document.getElementById("content").offsetWidth+200) {
                to = {
                    x: document.getElementById("content").offsetWidth+(screen.width-document.getElementById("content").offsetWidth-100),
                    y: document.getElementById("content").offsetHeight+getRandomInt(screen.height-document.getElementById("content").offsetHeight-100)
                };
            } else {
                to = {
                    x: document.getElementById("content").offsetWidth+getRandomInt(screen.width-document.getElementById("content").offsetWidth)+100,
                    y: getRandomInt(screen.height-100)
                };
            }
            elements[i].style.top = `${to.y-elements[i].offsetHeight}px`;
            elements[i].style.left = `${to.x-elements[i].offsetWidth}px`;
            elements[i].style.backgroundColor = colors[getRandomInt(colors.length)];
        }
    }

    window.onload = random();
</script>